<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <!--<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    -->
    <title>get_post测试网页</title>
    <!--jquery-->
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script>
    //处理数据
    function parse_data()
    {

    }
    $(function()
    {
      //结果 用于存储处理之后的json对象 待post
      var result
      parse_data()
      // NOTE: parseJSON 参数必须是'{"x":123}'或者'{"x":"xxx"}'
      // NOTE: 属性值必须使用双引号，json大括号必须外面加上单引号
    /*  var jquery_json=$.parseJSON('{"x":1234,"y":"yyy"}')
      console.log("jquery json->"+jquery_json)
      console.log("jquery json->"+jquery_json.y)*/
      //初始化
      mode=$(".mode:eq(0)").attr("checked",false)
      mode=$(".mode:eq(1)").attr("checked",false)
      var pamar=""
      //http请求类型
      var mode="null"
      //var mode_get=""
      $("#commit").click(function()
      {
        var url=$("#url").val()
        //alert("目标url->"+url)
        pamar=$("#pamar").val()

        //alert("请求参数->"+pamar)
        //alert("请求类型"+mode)
        //alert("发出请求！>>>>")
        if(mode=="get")
        {
          $.get(url,function(data,status)
          {
            if(data)
            {
            alert(status)
            alert(data)
            $("#return_data").text(data)
          }
          else
          {
            $("#return_data").text("错误，无法获得数据")
            alert("错误，无法获得数据")

          }
          })
        }
        if(mode=="post")
        {
          //获取值
          result=$.parseJSON(pamar)
          console.log("处理后的json参数->"+result)
          for (var item in result)
          {
          //  console.log(item)
            console.log("object属性->"+result[item]+"\n");
          }
        //  console.log("处理后的json参数->"+result.Y)
          $.post(url,result,function(data,status)
          {
            if(data)
            {
            alert(status)
            alert(data)
            $("#return_data").text(data)
          }
          else
          {
              $("#return_data").text("错误，无法获得返回数据")
          }
          })
        }
      //  console.log(mode)
      })
      //get
      $(".mode:eq(0)").click(function()
      {
        mode=$(".mode:eq(0)")[0].value
      })
      //post
      $(".mode:eq(1)").click(function()
      {
        mode=$(".mode:eq(1)")[0].value
      })
      //复制功能 // NOTE: copy表示第几个复制按钮 后面接点击事件 并赋值input属性
      //get url
      $(".copy:eq(0)").click(function()
      {
        $("#url").val("http://everydayonesentence.biu8.top/Truephp/get_today_sentence.php")
      })
      //pst url
      $(".copy:eq(1)").click(function()
      {
        $("#url").val("http://everydayonesentence.biu8.top/Truephp/register.php")
      })
      //参数
      $(".copy:eq(2)").click(function()
      {
        $("#pamar").val('{"to_action":"login","account":"666","pwd":"666"}')
      })
      // NOTE: 清楚所有参数 cls
      $("#clear").click(function()
      {
        $("#pamar").val("")
        $("#url").val("")
      })
    })
    </script>
    <style>
    #return_data
    {
      background-color: orange;
    }
    .l
    {
      background-color: orange;
    }
    .l1
    {
      background-color:#593c8f;
      color:white;
    }
    </style>
  </head>
  <body>
    <h1 align="center">get_post测试网页</h1>
      <b><p class="l1">注意，如果浏览器控制台报错cros http协议之类的问题，请取消注释head标签里面的meta标签，用于解决http/https协议不同的问题</p></b>
    <p>测试url->get类型->http://everydayonesentence.biu8.top/Truephp/get_today_sentence.php</p>
    <button class="copy">复制</button>
    <p>测试url->post类型->http://everydayonesentence.biu8.top/Truephp/register.php</p>
    <button class="copy">复制</button>
    <p>post测试参数:{"to_action":"login","account":"666","pwd":"666"}</p>
    <button class="copy">复制</button>
    <b><p class="l">参数类型json{ } 例子{"account":"name","pwd":"mima"}数字例子{"id",667788}</p></b>
    <b><p class="l1">注意，格式为{ }在最外面，在" "中填写key值后面接上: 然后再写上value值，可以使字符串，也可以是数字</p></b>
    <p align="center">参数1:</p>
    <center><input id="url" placeholder="请输入目标URL"></center>
    <center><input id="pamar" placeholder="请输入请求参数"></center>
    <br>
    <center>
    请选择类型
    <input class="mode" type="radio" name="mode" value="get">get
    <input class="mode" type="radio" name="mode" value="post">post
    <button id="commit">提交请求</button>
    <button id="clear">清空所有测试参数</button>
</center>
    <p align="center">返回数据</p>
    <p id="return_data" align="center"></p>
    <p align="center">开发者：<a href="https://github.com/2439905184" target="_blank">128hh苏</a></p>
    <p align="center"><a href="https://github.com/2439905184/CodeTempz/blob/master/get_post%E6%B5%8B%E8%AF%95%E7%BD%91%E9%A1%B5.html" target="_blank">此测试网页源码</a></p>

  </body>
</html>
